<script setup lang="ts">
  // å±æ€§å¼¹çª—
  import { formatDate, formatSize } from '@/utils/format.ts';
  import { useFileStore } from '@/stores/fileStore.ts';

  const fileStore = useFileStore();
</script>

<template>
  <!-- å±æ€§å¯¹è¯æ¡† -->
  <el-dialog
    v-model="fileStore.propertiesDialog.visible"
    title="ğŸ“„ æ–‡ä»¶å±æ€§"
    width="400px"
    :close-on-click-modal="false"
  >
    <div v-if="fileStore.propertiesDialog.item" class="properties-content">
      <div class="prop-item">
        <label>åç§°ï¼š</label>
        <span>{{ fileStore.propertiesDialog.item.name }}</span>
      </div>
      <div class="prop-item">
        <label>è·¯å¾„ï¼š</label>
        <span class="path-text">{{ fileStore.propertiesDialog.item.path }}</span>
      </div>
      <div class="prop-item">
        <label>ç±»å‹ï¼š</label>
        <span>{{
          fileStore.propertiesDialog.item.directory
            ? 'æ–‡ä»¶å¤¹'
            : fileStore.propertiesDialog.item.type
        }}</span>
      </div>
      <div class="prop-item" v-if="!fileStore.propertiesDialog.item.directory">
        <label>å¤§å°ï¼š</label>
        <span>{{ formatSize(fileStore.propertiesDialog.item.size) }}</span>
      </div>
      <div class="prop-item">
        <label>ä¿®æ”¹æ—¶é—´ï¼š</label>
        <span>{{ formatDate(fileStore.propertiesDialog.item.lastModified) }}</span>
      </div>
      <div class="prop-item">
        <label>åˆ›å»ºæ—¶é—´ï¼š</label>
        <span>{{ formatDate(fileStore.propertiesDialog.item.lastModified) }}</span>
        <!-- å¦‚æœ‰çœŸå®åˆ›å»ºæ—¶é—´å¯æ›¿æ¢ -->
      </div>
    </div>
    <template #footer>
      <el-button @click="fileStore.propertiesDialog.visible = false" type="primary">å…³é—­</el-button>
    </template>
  </el-dialog>
</template>
